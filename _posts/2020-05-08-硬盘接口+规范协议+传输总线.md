
---
layout: post
title: 硬盘接口+规范协议+传输总线
categories: [Talk]
description:
keywords: 
---

# 硬盘接口+规范协议+传输总线

## 硬盘接口说明

硬盘对计算机总的来说，算是“外设”，具备容易扩展的特性，也拥有多种不同的接口。

### IDE 接口

IDE 的英文全称为 “Integrated Drive Electronics”，即“电子集成驱动器”，它的本意是指把“硬盘控制器”与“盘体”集成在一起的硬盘驱动器。把盘体与控制器集成在一起的做法减少了硬盘接口的电缆数目与长度，数据传输的可靠性得到了增强。

不过 IDE 不仅指接口形式，主要还指硬盘的形式，即 IDE 硬盘，但人们**习惯用 IDE 来统称 PATA 接口类的硬盘**。

而 PATA 接口单纯指硬盘的接口形式，即“并行接口”。与之对应的是 SATA，即“串行接口”。其实 PATA 接口（并行接口）与 SATA（串行接口）的硬盘的严格上说都是IDE硬盘。如果说“PATA 接口的 IDE 硬盘"（简称 IDE 硬盘）和“SATA 接口的 IDE 硬盘”（简称 SATA 硬盘）会更准确点。

### SATA 接口

使用 SATA（Serial ATA）口的硬盘又叫串口硬盘。Serial ATA 采用串行连接方式，串行 ATA 总线使用嵌入式时钟信号，具备了更强的纠错能力，与以往相比其最大的区别在于能对传输指令（不仅仅是数据）进行检查，如果发现错误会自动矫正，这在很大程度上提高了数据传输的可靠性。串行接口还具有结构简单、支持热插拔的优点。串口硬盘是一种完全不同于 PATA 的新型硬盘接口类型，由于采用串行方式传输数据而知名。相对于 PATA 来说，就具有非常多的优势。首先，Serial ATA 以连续串行的方式传送数据，一次只会传送 1 位数据。这样能减少 SATA 接口的针脚数目，使连接电缆数目变少，效率也会更高。（但 SATA 本质上是 SATA 接口的 IDE 硬盘。）

SATA 3.0 能达到**带宽 6Gb/s**，**速度 600MB/s**。

### SCSI 接口

SCSI的英文全称为 “Small Computer System Interface”（小型计算机系统接口），是同 IDE（ATA） 完全不同的接口，IDE 接口是普通 PC 的标准接口，而 SCSI 并不是专门为硬盘设计的接口，是一种广泛应用于小型机上的高速数据传输技术。SCSI 接口具有应用范围广、多任务、带宽大、CPU占用率低，以及热插拔等优点，但较高的价格使得它很难如 IDE 硬盘般普及，因此 SCSI 硬盘主要应用于中、高端服务器和高档工作站中。

SCSI 依赖于 SCSI 控制器，一般上主板都有，RAID 卡上一般也会配置。

SCSI RAID 卡上可挂接的设备数量是有限的，一般为6个或15个。这大大扩展了 RAID 卡的使用场景。

### SAS 接口

SAS(Serial Attached SCSI) 即串行连接 SCSI，是新一代的 SCSI 技术，采用串行技术以获得更高传输速度，并通过缩短连结线改善内部空间等。SAS 是并行 SCSI 接口之后开发出的全新接口。此接口的设计是为了改善存储系统的效能、可用性和扩充性，SATA 可以看作是 SAS 的一个子协议，SAS 接口完全兼容 SATA，SATA 接口却不能支持 SAS。

### mSATA 接口

msata 是 SATA 协会开发的新的 mini-SATA(mSATA) 接口控制器的产品规范，新的控制器可以让  SATA 技术整合在小尺寸的装置上。同时 mSATA 将提供跟 SATA 接口标准一样的速度和可靠度，提供小尺寸 CE 产品(如 Notebooks/ Netbook) 的系统开发商和制造商更高效能和符合经济效益的储存方案。由于 mSATA MINI PCI-E SSD 体积小巧，越来越多笔记本产品开始使用这种接口的笔记本硬盘。

### m.2 接口（前身是NGFF）

m.2 接口，是 Intel 推出的一种替代 mSATA 新的接口规范,是为超极本（Ultrabook）量身定做的新一代接口标准，以取代原来的 mSATA 接口。无论是更小巧的规格尺寸，还是更高的传输性能，m.2 都远胜于 mSATA。

### PCIE 接口

目前最快的接口。PCIE 接口是直连 CPU 的，而且绝大部分中高端主板是配有直连 CPU 的 m.2 接口，低端缩水版本的 m.2 都是走的pch（主板南桥）然后再连接 CPU。

## 协议规范

### IDE 传输协议

### AHCI 传输协议

所谓 AHCI，全称是 Advanced Host Controller Interface，即高级主机控制接口，只有开启了 AHCI 模式，才能使用存储驱动程序中的高级串行 ATA 功能，比如 NCQ 全速命令队列和热插拔技术。但是根据实测 AHCI 速率提高不是太明显。

### iSCSI 传输协议

iSCSI 技术是一种由 IBM 公司研究开发的，是一个供硬件设备使用的可以在 IP 协议的上层运行的 SCSI 指令集，这种指令集合可以实现在 IP 网络上运行 SCSI 协议，使其能够在诸如高速千兆以太网上进行路由选择。iSCSI 技术是一种新储存技术，该技术是将现有 SCSI 接口与以太网络(Ethernet)技术结合，使服务器可与使用 IP 网络的储存装置互相交换资料。

### NVME 协议

相比于 AHCI，NVMe 单次提供 64\*1024 个请求队列，而每个队列达到了 64\*1024 个请求。远超 AHCI 单队列32个请求的规模。NVMe 可以说完全释放了传输协议的限制，而为了能够与传输协议的速度匹配，使用 NVMe 的设备都直接连接到了 PCIE 总线上。更直接的总线为 NVMe 设备提供绝对强大的传输速度。

## 传输总线

### PCIE 总线

### SATA 总线

### ATA 总线

### SCSI 总线

### SAS 总线
